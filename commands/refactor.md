---
allowed-tools: "Read", "Edit", "MultiEdit", "Write", "Glob", "Grep", "LS", "Bash", "TodoWrite", "TodoRead", "Bash(git:*)", "Bash(gh:*)", "Bash(say:*)"
description: リファクタリングに特化したコマンドです
---

# Refactor Command

## 🚨 Hard rule

- **既存の動作を絶対に壊さないこと** 
- リファクタリングによって無駄に複雑性が生まれる場合は、あえて何もしないという選択肢も考えること

## Your task

Refactor the code located at **\$ARGUMENTS** while strictly preserving behaviour.

1. **読みやすさ**
   * 明確な命名、1 関数 1 責任、過剰なコメントは控える。
   * **巨大なクラスや関数が存在する場合は、責任ごとにクラス／関数／ファイルへ分割することを検討する。**
2. **共通ロジックの集約**
   * **重複コードを削除する前に、既存の共通関数／ユーティリティを再利用・拡張できないか必ず確認**し、可能な限りそれを使う。
   * やむを得ず新しい共通関数を作成する場合は、既存コードへの影響を最小限に。
3. **パフォーマンス**
   * ボトルネックを軽減。ただし可読性より優先しない。
4. **テスト／型**
   * 既存テストがすべて通過することを確認。型エラー／リンタ警告は残さない。
